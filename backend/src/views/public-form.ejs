<% layout('layouts/main', { title: form.title }) %>

<div class="max-w-3xl mx-auto">
  <h2 class="text-3xl font-bold mb-6 text-gray-800"><%= form.title %></h2>

  <form id="publicForm" class="space-y-4">
    <% form.questions.forEach(q => { %>
      <div>
        <label class="block mb-1 font-medium"><%= q.label %></label>
        <% if(q.type === 'TEXT'){ %>
          <input type="text" name="<%= q.id %>" class="border p-2 w-full rounded" required="<%= q.required %>">
        <% } else if(q.type === 'MULTIPLE_CHOICE'){ %>
          <% q.options.forEach(option => { %>
            <label class="inline-flex items-center mr-4">
              <input type="radio" name="<%= q.id %>" value="<%= option %>" required="<%= q.required %>">
              <span class="ml-1"><%= option %></span>
            </label>
          <% }) %>
        <% } else if(q.type === 'CHECKBOX'){ %>
          <% q.options.forEach(option => { %>
            <label class="inline-flex items-center mr-4">
              <input type="checkbox" name="<%= q.id %>" value="<%= option %>">
              <span class="ml-1"><%= option %></span>
            </label>
          <% }) %>
        <% } %>
      </div>
    <% }) %>

    <button type="submit" class="bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600 transition">Submit</button>
  </form>
</div>

<script src="/js/public-form.js"></script>
